System.register("chunks:///_virtual/apiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.js","./hlib.ts","./index.mjs_cjs=&original=.js","./uiManager.ts","./PlayerData.ts","./index2.js"],(function(e){"use strict";var t,i,n,s,r,a,c,o,_;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,n=e._decorator},function(e){s=e.default},function(e){r=e.hlib},null,function(e){a=e.uiManager,c=e.ClientAction},function(e){o=e.PlayerData},function(e){_=e.default}],execute:function(){i._RF.push({},"34221sWiRZAjJ20QUlsAJPU","apiManager",void 0);var u,l;n.ccclass;!function(e){e[e.OK=200]="OK"}(u||(u={})),function(e){e[e.ERROR_CODE_SPECIAL=999]="ERROR_CODE_SPECIAL",e[e.ERROR_CODE_DATA=99]="ERROR_CODE_DATA",e[e.ERROR_CODE_INVALID_VERSION=1]="ERROR_CODE_INVALID_VERSION",e[e.ERROR_CODE_USERNAME_EXISTED=2]="ERROR_CODE_USERNAME_EXISTED",e[e.ERROR_CODE_USER_LOCKED=3]="ERROR_CODE_USER_LOCKED",e[e.ERROR_CODE_API_LOCK=4]="ERROR_CODE_API_LOCK",e[e.ERROR_CODE_ACCOUNT_REMOVE=5]="ERROR_CODE_ACCOUNT_REMOVE",e[e.ERROR_CODE_SESSION_EXPIRED=6]="ERROR_CODE_SESSION_EXPIRED",e[e.ERROR_CODE_SERVER_UPGRADING=7]="ERROR_CODE_SERVER_UPGRADING",e[e.ERROR_CODE_INVALID_PARAM=8]="ERROR_CODE_INVALID_PARAM"}(l||(l={}));var R="user/login",E="api/uplv",h="api/share",f="api/share_info",O="api/get_share",C=[],d=function(){function e(){this.API_DELAY=350,this.cur_api="",this.in_call_api=!1,this.apiQueue=[],this.storage={session:"",seq:0,_id:""},this.api_return_main_if_err=[],this.initScheduler()}var i=e.prototype;return i.initScheduler=function(){var e=this;this.schedulerid&&clearInterval(this.schedulerid),this.schedulerid=setInterval((function(){e.checkQueue()}),this.API_DELAY)},i.checkQueue=function(){if(this.apiQueue.length>0){var e=this.apiQueue.shift();this.requestCall(e.apiName,e.body,e.callback,!1)}},i.requestCall=function(t,i,n,s){var c=this;void 0===s&&(s=!0),r.logStr(t+JSON.stringify(i)),s&&!C.find((function(e){return e==c.cur_api}))&&a.showLoadingSmall();var o=Date.now()-this.lastCallTime;if(this.in_call_api||o<this.API_DELAY)this.apiQueue.push({apiName:t,body:i,callback:n});else{this.in_call_api=!0;var u=this;this.cur_api=t,void 0===i&&(i={}),this._callback=n;var l="";l=t.includes("user/")?e._urlLogin+t:e._urlAPI+t,this.lastCallTime=Date.now(),_({method:"POST",body:this.encrypt(JSON.stringify(i),e.API_CONFIG.CRYPT_KEY,e.API_CONFIG.CRYPT_IV),responseType:"arraybuffer",uri:l,headers:{"content-type":"application/octet-stream"}},(function(e,t,i){u.in_call_api=!1,u.onResponse(t)}))}},i.onResponse=function(t){var i=null,n=s.lib.CipherParams.create({ciphertext:s.lib.WordArray.create(t.body)});if(t.statusCode==u.OK){var c=this.decrypt(n,e.API_CONFIG.CRYPT_KEY,e.API_CONFIG.CRYPT_IV);return i=JSON.parse(c),r.logStr(JSON.stringify(i)),i.urlAPI&&(r.logStr("_urlAPI ="+i.urlAPI),e._urlAPI=i.urlAPI),i.urlCHAT&&r.logStr("urlCHAT ="+i.urlCHAT),this.handleNewData(i),this.makeCallback(i),a.hideLoadingSmall(),void this.checkQueue()}if(a.hideLoadingSmall(),500==t.statusCode)return a.AddWarn(r._("RESPONSE ERR code = 500"),!0),this.handleErr("Internal server error.");if(406==t.statusCode){var o=JSON.parse(this.decrypt(n,e.API_CONFIG.CRYPT_KEY,e.API_CONFIG.CRYPT_IV));o._system&&(this.storage.seq=o._system.seq),o.session&&(this.storage.session=o.session),this.handleErr(o)}else this.handleErr("Oops: "+t.statusCode),r.logStr(JSON.stringify(t)),this.backto_login()},e.err_code_to_str=function(e){return r._(l[e])},i.backto_login=function(){this.apiQueue.length=0,a.GoToClientAction(c.Loading)},i.handleErr=function(t){if(t.code){if(t.code==l.ERROR_CODE_SPECIAL&&t.msg)a.AddWarn(t.msg);else{var i=r._("%{str_code} (%{num_code})",{str_code:e.err_code_to_str(t.code),num_code:t.code.toString()});a.AddWarn(i,!0)}if(t.code==l.ERROR_CODE_SESSION_EXPIRED)return void this.backto_login()}else r.logStr(t);this.checkQueue()},i.makeCallback=function(e){this._callback&&this._callback(e)},i.handleNewData=function(e){e._system&&(this.storage.seq=e._system.seq),e.session&&(this.storage.session=e.session),e.char_info&&(o.char_info=e.char_info)},i.decrypt=function(e,t,i){var n=s.enc.Utf8.parse(t),r=s.enc.Utf8.parse(i);return s.AES.decrypt(e,n,{iv:r}).toString(s.enc.Utf8)},i.encrypt=function(e,t,i){var n=s.enc.Utf8.parse(t),r=s.enc.Utf8.parse(i),a=s.AES.encrypt(e,n,{iv:r}).toString(),c=s.lib.CipherParams.create({ciphertext:s.enc.Base64.parse(a)});return new Uint8Array(c.toString(s.format.Hex).match(/.{1,2}/g).map((function(e){return parseInt(e,16)})))},i.getMd5=function(e){return s.MD5(e).toString()},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();d.API_CONFIG={SV_VERSION:"1.0",CRYPT_KEY:"EJZw7z8BHwvgLfdYpr4Ys25svVJewL1G",CRYPT_IV:"npgYxcHZ2PkcypMK",PREFIX:"scGCtSre4pLVwga"};e("apiManager",function(){function e(){}return e.login=function(e,t){d.instance.requestCall(R,{key:e},(function(e){t(e)}))},e.uplv=function(e){d.instance.requestCall(E,{},(function(t){e(t)}))},e.share=function(e){d.instance.requestCall(h,{},(function(t){e(t)}))},e.spin=function(e){d.instance.requestCall(R,{},(function(t){e(t)}))},e.share_info=function(e,t){d.instance.requestCall(f,{link_share:e},(function(e){o.share_info=e.share_info,t(e)}))},e.get_share=function(e,t){d.instance.requestCall(O,{link_share:e},(function(e){t(e)}))},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./uiManager.ts","./hlib.ts"],(function(t){"use strict";var n,i,e,o,r,u,l,s,c,a,h,f,d;return{setters:[function(t){n=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.ScrollView,u=t.sp,l=t.UIRenderer,s=t.Node,c=t.Button,a=t.Sprite,h=t.Component},function(t){f=t.uiManager},function(t){d=t.hlib}],execute:function(){var p;e._RF.push({},"5dcab2d6tBNd7opQpWbJujQ","BaseComponent",void 0);var C=o.ccclass;o.property,t("BaseComponent",C(p=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).ini_ui_done=!1,n.other_data=void 0,n._audioSource=null,n.is_ot=-1,n}n(e,t);var o=e.prototype;return o.GetCurChil=function(t){return this.GetChil(this.node,t)},o.GetChilComponent=function(t,n){var i=this.GetChil(this.node,t);return i?i.getComponent(n):null},o.GetCurBtn=function(t){return this.GetBtn(this.node,t)},o.GetChil=function(t,n){if(!t)return null;if(!n||""==n)return t;if(!t.children)return null;for(var e,o=i(t.children);!(e=o()).done;){var r=e.value;if(r.name==n)return r}for(var u,l=i(t.children);!(u=l()).done;){var s=u.value,c=this.GetChil(s,n);if(c)return c}return null},o.GetScrollView=function(t,n){var i=this.GetChil(t,n);return i?i.getComponent(r):null},o.GetSke=function(t,n){if(!t)return null;var i=this.GetChil(t,n);if(i||(i=this.GetChil(t,"PSimAni_"+n)),!i)return null;var e=i.getComponent(u.Skeleton);if(!e){if(!i.getComponent(l))return i.addComponent(u.Skeleton);var o=this.GetChil(i,"PSimAni_"+n);if(!o)return o=new s("PSimAni_"+n),i.addChild(o),o.addComponent(u.Skeleton)}return e},o.GetBtn=function(t,n,i){if(void 0===n&&(n=""),void 0===i&&(i=!0),!t)return null;var e=this.GetChil(t,n);if(!e)return null;var o=e.getComponent(c);return o||(o=e.addComponent(c),i&&(o.duration=.05,o.zoomScale=1.1,o.transition=c.Transition.SCALE)),o},o.SetText=function(t,n,i,e){n&&""!=n?d.SetText(this.GetChil(t,n),i||"",e):d.SetText(t,i||"",e)},o.SetRText=function(t,n,i){n&&""!=n?d.SetRText(this.GetChil(t,n),i||""):d.SetRText(t,i||"")},o.SetImg=function(t,n,i){var e=this.GetChil(t,n),o=e?e.getComponent(a):null;o&&(i&&0!==i.length||(o.enabled=!1))},o.start=function(){this.IniUi(),this.ini_ui_done=!0;var t=this.GetBtn(this.node,"BClose"),n=this;t&&(t.node.off("click"),t.node.on("click",(function(){n.OnClose()}))),n.LoadInfo(),n.IniSound()},o.IniSound=function(){},o.show=function(t){this.other_data=t||void 0,this.ini_ui_done&&(this.LoadInfo(),this.IniSound())},o.OnClose=function(){this.StopOnTick(),f.ClosePopup(this.node)},o.HandleBtn=function(t,n){var i=this.GetBtn(this.node,t);return i&&(i.node.off("click"),i.node.on("click",n,null,null)),i},o.IniUi=function(){},o.onDisable=function(){t.prototype.onDisable&&t.prototype.onDisable.call(this)},o.LoadInfo=function(){this.AfterLoadInfo()},o.AfterLoadInfo=function(){},o.OnTick=function(){},o.update=function(t){this.is_ot>=0&&(this.is_ot+=t,this.is_ot>=1&&(this.OnTick(),this.is_ot=0))},o.StartOnTick=function(){this.is_ot=0,this.OnTick()},o.StopOnTick=function(){this.is_ot=-1},e}(h))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"59535XoFnhOAr/mJk4wEV68","BaseData",void 0);t("BaseData",function(){function t(){}return t.GetBaseData=function(t){return{}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Controller.ts",["cc","./PlayerData.ts","./apiManager.ts","./hlib.ts","./uiManager.ts"],(function(n){"use strict";var o,i,r,a,t,e;return{setters:[function(n){o=n.cclegacy},function(n){i=n.PlayerData},function(n){r=n.apiManager},function(n){a=n.hlib},function(n){t=n.uiManager,e=n.ClientAction}],execute:function(){o._RF.push({},"9ef08cXSP1Ci67jF0isVclX","Controller",void 0),n("Controller",function(){function n(){}return n.TryLogin=function(o){void 0===o&&(o=null);var l=location.search;a.logStr("location.search: "+l),n.NO_API?(i.char_info=i.test_char_info,i.char_info.search=l,o?o(null):t.GoToClientAction(e.Home)):o?r.login(l,o):r.login(l,(function(){t.GoToClientAction(e.Home)}))},n.TryUpLv=function(o){void 0===o&&(o=null);var e=i.char_info;e.gold_up_lv>e.gold?t.AddWarn(a._("Khong du gold, can %{gold_up_lv}, co %{gold}",e)):n.NO_API?(i.char_info.lv++,i.char_info.gold-=e.gold_up_lv,i.char_info.gold_up_lv*=1.1,i.char_info.coin_per_day*=1.11,o&&o(null)):r.uplv(o)},n.TryShare=function(n){void 0===n&&(n=null),i.char_info.next_time_can_share>i.localTime?t.AddWarn(a._("Chua den thoi gian Share")):r.share(n)},n.TrySpin=function(n){void 0===n&&(n=null),i.char_info.num_spin<=0?t.AddWarn(a._("k du so luot spin")):r.spin(n)},n.TryGetShare=function(n){void 0===n&&(n=null);var o=i.share_info,e=i.char_info;if(o&&o.time_expired<i.localTime&&o.num_get_max>o.get_by.length){var l=!1;return o.get_by.forEach((function(n){n.id==e.id&&(l=!0)})),void(l?t.AddWarn(a._("ban da nhan roi")):r.get_share(o.link_share,n))}t.AddWarn(a._("Share ket thuc"))},n}()).NO_API=!0,o._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./uiManager.ts"],(function(e){"use strict";var t,o,i,n,r,a,l,u,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,u=e.director,s=e.Component},function(e){c=e.uiManager}],execute:function(){var p,d,g,f,h,m,y,b,v,L;r._RF.push({},"52df2Z7vGhDeL5zY4vpvh9u","GameRoot",void 0);var R=a.ccclass,z=a.property;e("GameRoot",(p=R("GameRoot"),d=z(l),g=z(l),f=z(l),p(((L=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"LoadingFull",y,n(t)),i(t,"LoadingSmall",b,n(t)),i(t,"WarningMsg",v,n(t)),t}o(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){},r.onLoad=function(){u.addPersistRootNode(this.node),t.node_root=this.node,c.SetUi(this.LoadingFull,this.LoadingSmall,this.WarningMsg)},t}(s)).node_root=null,y=t((m=L).prototype,"LoadingFull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(m.prototype,"LoadingSmall",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"WarningMsg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/hlib.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseData.ts","./PlayerData.ts"],(function(t){"use strict";var e,n,r,o,i,u,a,c,l,s,f,g;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,r=t.Label,o=t.RichText,i=t.misc,u=t.UITransform,a=t.director,c=t.Director,l=t.instantiate,s=t.Vec3},function(t){f=t.BaseData},function(t){g=t.PlayerData}],execute:function(){var h;t("hlib",void 0),n._RF.push({},"14139kHsmdGYYNoC+uaxFUz","hlib",void 0),function(t){function n(t,n){var r=t.getChildByName(n);if(r)return r;for(var o,i=e(t.children);!(o=i()).done;){var u=o.value,a=this.GetChil(u,n);if(a)return a}}function p(t,e){if(void 0===e&&(e=2),!t||t<=0)return"0";var n=["","K","M","B","T","qd","qt"],r=Math.floor(Math.log(t)/Math.log(1e3)),o=i.clampf(r,0,n.length-1);return 0==o?t.toFixed(e):(t/Math.pow(1e3,o)).toFixed(2)+n[o]}function v(t,n){f.auto_po||(f.auto_po=f.GetBaseData("auto_po"));var r=f.auto_po,o=function(t){for(var e="",n=0;n<t.length;n++){var r=t[n];("\n"===r||r>=" "&&r<="~")&&(e+=r)}return e}(t),i=r.hasOwnProperty(o)?r[o]:t;return n?i.replace(/\%{(.*?)}/g,(function(t,r){if(r.includes("[")){var o=r.split("[").map((function(t){return t.replace("]","")}));if(o.length<2)return t;for(var i,u=n,a=e(o);!(i=a()).done;){var c=i.value;if(!u||!u.hasOwnProperty(c))return t;u=u[c]}return u}return n.hasOwnProperty(r)?"point"===r&&"number"==typeof n.point?p(n[r],0):n[r]:t})):i}function _(t,e){return e?v(t,e):v(t)}function m(t,e,n){var r=1e3*g.localTime,o=new Date(r),i=new Date(r);return i.setHours(t),i.setMinutes(e),i.setSeconds(n),o>=i&&i.setDate(o.getDate()+1),Math.floor((i.getTime()-o.getTime())/1e3)}function d(t){var e,n=Math.floor(t/86400);e=t%86400;var r=Math.floor(e/3600);return e%=3600,{day:n,hours:r,minutes:Math.floor(e/60),seconds:e=Math.floor(e%60)}}function y(t,e){if(t&&0!==t.length)return e<0?t[0]:e>=t.length?t[t.length-1]:t[e]}function C(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function S(t){return t.getComponent(u).contentSize}function T(t,e){t.getComponent(u).setContentSize(e)}t.logStr=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).log.apply(e,[t].concat(r))},t.GetChil=n,t.GetText=function(t,e){var o=n(t,e);return o?o.getComponent(r):null},t.SetClick=function(t,e){t&&(t.node.off("click"),t.node.on("click",e,null,null))},t.SetText=function(t,e,n){var i=t?t.getComponent(r):null;if(i)i.string=e,n&&(i.color=n);else{var u=t?t.getComponent(o):null;u&&(u.string=n?"<color="+n.toCSS("#rrggbb")+">"+e+"</color>":e)}},t.SetRText=function(t,e){var n=t?t.getComponent(o):null;if(n)n.string=e;else{var i=t?t.getComponent(r):null;i&&(i.string=e)}},t.formatNum=p,t._=_,t.to_str2=function(t){return t<10?"0"+t.toString():t.toString()},t.get_date=function(t){var e=new Date(1e3*t);return{year:h.to_str2(e.getFullYear()),month:h.to_str2(e.getMonth()+1),day:h.to_str2(e.getDate()),hours:h.to_str2(e.getHours()),minutes:h.to_str2(e.getMinutes()),seconds:h.to_str2(e.getSeconds())}},t.get_time_to2=function(t){return 1===t.length?m(t[0],0,0):2===t.length?m(t[0],t[1],0):3===t.length?m(t[0],t[1],t[2]):0},t.get_time_to=m,t.get_time=d,t.get_time_str=function(t,e){if(void 0===e&&(e=3),t<0)return h._("_");var n=d(t),r=0,o="";return n.day>0&&(o+="%{day}d ",r++),r<e&&n.hours>0&&(o+="%{hours}h ",r++),r<e&&n.minutes>0&&(o+="%{minutes}m ",r++),r<e&&n.seconds>=0&&(o+="%{seconds}s ",r++),_(o,n)},t.get_cd_time=function(t){return h.get_time_str(t-g.localTime)},t.soft_get=y,t.res_re_to_str=function(t){return!t||t.length<3?h._("free"):p(y(t,2),0)},t.to_arr1=function(t){return t.flat()},t.to_arr2=function(t){if(Array.isArray(t)&&Array.isArray(t[0]))return t;if(Array.isArray(t)){for(var e=[],n=[],r=0;r<t.length;r++)n.push(t[r]),3===n.length&&(e.push(n),n=[]);if(n.length>0){for(;n.length<3;)n.push(0);e.push(n)}return e}return[]},t.to_node_space=function(t,e){var n=t.parent.getComponent(u).convertToWorldSpaceAR(t.position);return e.getComponent(u).convertToNodeSpaceAR(n)},t.do_next_frame=function(t,e){a.once(c.EVENT_AFTER_UPDATE,(function(){e.apply(t)}),t)},t.get_clone=function(t){var e=l(t);return e.setPosition(s.ZERO),e.active=!0,e},t.to_sim_text=C,t.contains_text=function(t,e){var n=C(t.toLowerCase()),r=C(e.toLowerCase());return n.includes(r)},t.sum=function(t){return t.reduce((function(t,e){return t+e}),0)},t.getContentSize=S,t.setContentSize=T,t.copyContentSize=function(t,e){T(t,S(e))},t.mergeRes=function(t,e){var n={};t.forEach((function(t){var e=t[0],r=t[1],o=t[2],i=e+"@"+r;i in n?n[i][2]+=o:n[i]=[e,r,o]})),e.forEach((function(t){var e=t[0],r=t[1],o=t[2],i=e+"@"+r;i in n?n[i][2]+=o:n[i]=[e,r,o]})),t.length=0,t.push.apply(t,Object.values(n))},t.AutoIniUi=function t(n){if(n){for(var i,u=e(n.children);!(i=u()).done;){t(i.value)}var a=n?n.getComponent(r):null;a&&(a.string=h._(a.string));var c=n?n.getComponent(o):null;c&&(c.string=h._(c.string));n.name}},t.getUITransform=function(t){return t?t.getComponent(u):null},t.filterBadWords=function(t){for(var n,r=t.normalize("NFC"),o=f.badWord,i=e(o);!(n=i()).done;){var u=n.value;if(r==u)return"*";for(var a=" "+u,c=u+" ";-1!==r.indexOf(a);)r=r.replace(a,"*");for(;-1!==r.indexOf(c);)r=r.replace(c,"*")}return r}}(h||(h=t("hlib",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./PlayerData.ts","./hlib.ts","./Controller.ts"],(function(t){"use strict";var n,e,i,o,r,a,s,c,u,l,h,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Animation,c=t.sp},function(t){u=t.BaseComponent},function(t){l=t.PlayerData},function(t){h=t.hlib},function(t){m=t.Controller}],execute:function(){var d,f,p,_,y;r._RF.push({},"edc2a7itdpDQ5BDY+sVWkwJ","HomeUI",void 0);var v=a.ccclass,S=a.property;t("HomeUI",(d=v("HomeUI"),f=S(s),d((y=n((_=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"menuAnim",y,o(n)),n}e(n,t);var r=n.prototype;return r.IniUi=function(){var t=this;this.NodeAnim=this.GetCurChil("NodeAnim").getComponent(c.Skeleton),this.HandleBtn("BUp",(function(){m.TryUpLv((function(){t.NodeAnim.setAnimation(0,"Win",!1),t.NodeAnim.addAnimation(0,"Idle",!0),t.SetCharInfo()}))}))},r.AfterLoadInfo=function(){var t=this;this.scheduleOnce((function(){t.menuAnim.play("menu_intro")}),.5),this.SetCharInfo()},r.SetCharInfo=function(){var t=l.char_info;this.SetText(this.node,"num_coin",h.formatNum(t.coin)),this.SetText(this.node,"num_gold",h.formatNum(t.gold)),this.SetText(this.node,"num_gold_re",h.formatNum(t.gold_up_lv)),this.SetText(this.node,"num_coin_per_day",h._("+%{coin_per_day}/day",{coin_per_day:h.formatNum(t.coin_per_day)})),this.SetText(this.node,"char_lv",t.lv.toString()),this.SetText(this.node,"userName",t.name),this.SetText(this.node,"info_search",t.search)},n}(u)).prototype,"menuAnim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResCache.ts","./Controller.ts"],(function(n){"use strict";var o,t,e,r,a,c,i,s;return{setters:[function(n){o=n.inheritsLoose,t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy,a=n._decorator,c=n.Component},function(n){i=n.ResCache},function(n){s=n.Controller}],execute:function(){var u;r._RF.push({},"2bd44+nG65MJaithWp/6d0t","Loading",void 0);var p=a.ccclass;a.property,n("Loading",p("Loading")(u=function(n){function r(){return n.apply(this,arguments)||this}o(r,n);var a=r.prototype;return a.start=function(){},a.onLoad=function(){this.onLoadDone()},a.updateDone=function(){var n=this;i.instance.load(t(e().mark((function o(){return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n.onLoadDone();case 1:case"end":return o.stop()}}),o)}))))},a.onLoadDone=function(){s.TryLogin()},r}(c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./migrate-canvas.ts","./BaseData.ts","./PlayerData.ts","./Res.ts","./ResCache.ts","./apiManager.ts","./hlib.ts","./uiManager.ts","./BaseComponent.ts","./Controller.ts","./GameRoot.ts","./HomeUI.ts","./Loading.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/migrate-canvas.ts",["cc"],(function(){"use strict";var n,e,t,i,r,o,a;return{setters:[function(c){n=c.cclegacy,e=c.director,t=c.Director,i=c.Canvas,r=c.Camera,o=c.game,a=c.Node}],execute:function(){n._RF.push({},"2653cozn2JIcJV4YPvFCM+E","migrate-canvas",void 0);var c=1048575;function l(n,e){for(var t=0,i=n.children.length;t<i;t++)n.children[t].layer=e,l(n.children[t],e)}e.on(t.EVENT_AFTER_SCENE_LAUNCH,(function(){var n,t,a,s=null==(n=e.getScene())?void 0:n.children,m=null==(t=e.getScene())?void 0:t.getComponentsInChildren(i);if(!(m.length<=1)){m=m.filter((function(n){return!!n.cameraComponent}));var v=null==(a=e.getScene())?void 0:a.getComponentsInChildren(r),u=0;v.forEach((function(n){return u|=n.visibility&c}));for(var p=[],f=0,C=s.length;f<C;f++){var h=s[f];if(o.isPersistRootNode(h)){var d=h.getComponentsInChildren(i);0!==d.length&&p.push.apply(p,d.filter((function(n){return!!n.cameraComponent})))}}p.forEach((function(n){if(m.find((function(e){return e!==n&&e.cameraComponent.visibility&n.cameraComponent.visibility&c}))){var e=~u,t=e&~(e-1);n.cameraComponent.visibility=t|4293918720&n.cameraComponent.visibility,l(n.node,t),u|=e}}))}}));var s=a.prototype.setParent;function m(n){var e=0,t=n.getComponent(i);return t&&t.cameraComponent?e=t.cameraComponent.visibility&t.node.layer?t.node.layer:t.cameraComponent.visibility&~(t.cameraComponent.visibility-1):(n.parent&&(e=m(n.parent)),e)}a.prototype.setParent=function(n,e){if(s.call(this,n,e),n){var t=m(this);t&&(this.layer=t,l(this,t))}},n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"ec711d5M31NFbNydIPzqj8p","PlayerData",void 0);var i=t("PlayerData",function(){function t(){}return e(t,null,[{key:"char_info",get:function(){return t._char_info},set:function(e){t._char_info=e,this.time_mt=(new Date).getTime()/1e3,this.tmp_serverTime=t._char_info.serverTime}},{key:"localTime",get:function(){return(new Date).getTime()/1e3-this.time_mt+this.tmp_serverTime}}]),t}());i.time_mt=0,i.tmp_serverTime=0,i.share_info=void 0,i.test_ShortCharData={id:"test_id",name:"test_string"},i.test_char_info={id:"string",name:"stringname",search:"string",token:111,coin:222,gold:333,gold_up_lv:22,lv:2,coin_per_day:444,rate_bonus:1.1,num_spin:1,next_time_can_share:0,invite_by:i.test_ShortCharData,invite_list:[i.test_ShortCharData,i.test_ShortCharData],serverTime:Date.now()},r._RF.pop()}}}));

System.register("chunks:///_virtual/Res.ts",["cc"],(function(t){"use strict";var o,n,i,a,e,s,d,l,c,u,r,f,h,D,v,p,S,g,m,C,A,P;return{setters:[function(t){o=t.cclegacy,n=t.resources,i=t.error,a=t.JsonAsset,e=t.TextAsset,s=t.Prefab,d=t.Texture2D,l=t.ImageAsset,c=t.SpriteFrame,u=t.SpriteAtlas,r=t.EffectAsset,f=t.AudioClip,h=t.AnimationClip,D=t.Mesh,v=t.Material,p=t.sp,S=t.SceneAsset,g=t.Font,m=t.Vec3,C=t.instantiate,A=t.find,P=t.Widget}],execute:function(){o._RF.push({},"44de8nXb6NO75d8OvXwjLzU","Res",void 0),t("Res",function(){function t(){}return t.load=function(o,a,e){this.count++,n.load(o,a,(function(n,a){n&&i(o,n.message||n),e&&e(n,a),t.count--}))},t.loadJson=function(t,o){this.load(t,a,o)},t.loadTxt=function(t,o){this.load(t,e,o)},t.loadPrefab=function(t,o){this.load(t,s,o)},t.loadTex2D=function(t,o){this.load(t,d,o)},t.loadImage=function(t,o){this.load(t,l,o)},t.loadSprite=function(t,o){this.load(t,c,o)},t.loadSpriteAtlas=function(t,o){this.load(t,u,o)},t.loadEffect=function(t,o){this.load(t,r,o)},t.loadAudio=function(t,o){this.load(t,f,o)},t.loadAnimationClip=function(t,o){this.load(t,h,o)},t.loadMesh=function(t,o){this.load(t,D,o)},t.loadMateiral=function(t,o){this.load(t,v,o)},t.loadSkeleton=function(t,o){this.load(t,p.SkeletonData,o)},t.loadScene=function(t,o){this.load(t,S,o)},t.loadFont=function(t,o){this.load(t,g,o)},t.inst=function(t,o,n){void 0===o&&(o=void 0),void 0===n&&(n=m.ZERO);var i=C(t);return void 0===o?A("Canvas").addChild(i):i.setParent(o),i.getComponent(P)&&(i.getComponent(P).target=A("Canvas")),i.setPosition(n),i.setScale(m.ONE),i.active=!0,i},t.instNode=function(t,o,n){void 0===o&&(o=void 0),void 0===n&&(n=m.ZERO);var i=C(t);return void 0===o?A("Canvas").addChild(i):i.setParent(o),i.getComponent(P)&&(i.getComponent(P).target=A("Canvas")),i.setPosition(n),i.setScale(m.ONE),i.active=!0,i},t.loadDir=function(o,a,e){this.count++,n.loadDir(o,a,(function(o,n){o&&i(o.message||o),e&&e(o,n),t.count--}))},t.loadDirJson=function(t,o){this.loadDir(t,a,o)},t.loadDirPrefab=function(t,o){this.loadDir(t,s,o)},t.loadDirSkeletonData=function(t,o){this.loadDir(t,p.SkeletonData,o)},t.preloadDirSkeData=function(o,a){this.count++,n.preloadDir(o,null,(function(o,n){o&&i(o.message||o),a&&a(),t.count--}))},t.loadDirSprite=function(t,o){this.loadDir(t,c,o)},t.loadDirSound=function(t,o){this.loadDir(t,f,o)},t.loadDirFont=function(t,o){this.loadDir(t,g,o)},t}()).count=0,o._RF.pop()}}}));

System.register("chunks:///_virtual/ResCache.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,s,c,r;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,r=t._decorator}],execute:function(){var a,i;c._RF.push({},"021c5JUia9EKaXU8bRvrRLo","ResCache",void 0);var o=r.ccclass;r.property,t("ResCache",o("ResCache")(((i=function(){function t(){this._json={},this._prefab={},this._skeData={},this._sprite={},this._sound={},this._font={},this._userSkeCache=new Set}return t.prototype.load=function(){var t=n(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._callback=e,this._callback&&this._callback();case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new this),this._instance}}]),t}())._instance=null,a=i))||a);c._RF.pop()}}}));

System.register("chunks:///_virtual/uiManager.ts",["cc","./hlib.ts"],(function(n){"use strict";var o,e,i,t,a,c;return{setters:[function(n){o=n.cclegacy,e=n.director,i=n.find,t=n.Animation,a=n.tween},function(n){c=n.hlib}],execute:function(){var u;n("ClientAction",void 0),o._RF.push({},"b6f7aFrxyBJRoLNEFazBfOG","uiManager",void 0),function(n){n[n.Loading=0]="Loading",n[n.Home=1]="Home"}(u||(u=n("ClientAction",{})));n("uiManager",function(){function n(){}return n.showLoadingSmall=function(){},n.hideLoadingSmall=function(){},n.showLoadingFull=function(){},n.hideLoadingFull=function(){},n.AfterLoadingScene=function(o){e.preloadScene(o,null,(function(i,t){i||e.loadScene(o,(function(e,i){n.cur_scene=o,n.hideLoadingFull()}))}))},n.AddWarn=function(o,e){var a=c.get_clone(n.WarningMsg);i("Canvas").addChild(a),c.GetText(a,"TxtMsg").string=o;var u=a.getComponent(t);u.play("DmgShowHide"),u.once(t.EventType.FINISHED,(function(){a.removeFromParent()}))},n.GoToScene=function(o){n.showLoadingFull(),a(i("Canvas")).delay(.2).call((function(){n.AfterLoadingScene(o)})).start()},n.GoToClientAction=function(o){switch(o){case u.Loading:n.GoToScene("Loading");break;case u.Home:n.GoToScene("home")}},n.SetUi=function(o,e,i){n.LoadingFull=o,n.LoadingSmall=e,n.WarningMsg=i},n.ClosePopup=function(n){},n}());o._RF.pop()}}}));
